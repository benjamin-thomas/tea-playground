A simpler version of the prior attempt.

In terms of code organization + build setup.
